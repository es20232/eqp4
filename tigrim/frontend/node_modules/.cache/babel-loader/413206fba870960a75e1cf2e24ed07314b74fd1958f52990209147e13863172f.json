{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\guigi\\\\OneDrive\\\\Documentos\\\\GitHub\\\\eqp4-final\\\\tigrim\\\\frontend\\\\src\\\\containers\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Sidebar from \"../components/Sidebar\";\nimport Feed from \"../components/Feed\";\nimport { Stack, Box } from \"@mui/material\";\nimport Navbar from \"../components/Navbar\";\nimport Add from \"../components/Add\";\nimport Rightbar from '../components/Rightbar';\nimport { useDispatch } from 'react-redux';\nimport { AUTHENTICATED_SUCCESS, AUTHENTICATED_FAIL } from '../actions/types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const token = localStorage.getItem('access');\n        if (!token) {\n          dispatch({\n            type: AUTHENTICATED_FAIL\n          });\n          return;\n        }\n        const config = {\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n        };\n        const body = JSON.stringify({\n          token\n        });\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/jwt/verify/`, body, config);\n        if (res.data.code !== 'token_not_valid') {\n          dispatch({\n            type: AUTHENTICATED_SUCCESS\n          });\n          // Aqui você pode fazer outra solicitação para obter os posts\n        } else {\n          dispatch({\n            type: AUTHENTICATED_FAIL\n          });\n        }\n      } catch (error) {\n        console.error('Erro ao verificar autenticação:', error);\n        dispatch({\n          type: AUTHENTICATED_FAIL\n        });\n      }\n    };\n    fetchPosts();\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Feed, {\n        posts: posts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Rightbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"RrOgzmuVq2L4YMFgVqJ3qowy0X0=\", false, function () {\n  return [useDispatch];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","Sidebar","Feed","Stack","Box","Navbar","Add","Rightbar","useDispatch","AUTHENTICATED_SUCCESS","AUTHENTICATED_FAIL","jsxDEV","_jsxDEV","Dashboard","_s","posts","setPosts","dispatch","fetchPosts","token","localStorage","getItem","type","config","headers","body","JSON","stringify","res","post","process","env","REACT_APP_API_URL","data","code","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","direction","spacing","_c","$RefreshReg$"],"sources":["C:/Users/guigi/OneDrive/Documentos/GitHub/eqp4-final/tigrim/frontend/src/containers/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport Feed from \"../components/Feed\";\r\nimport { Stack, Box } from \"@mui/material\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Add from \"../components/Add\";\r\nimport Rightbar from '../components/Rightbar';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { AUTHENTICATED_SUCCESS, AUTHENTICATED_FAIL } from '../actions/types';\r\n\r\nconst Dashboard = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            try {\r\n                const token = localStorage.getItem('access');\r\n                if (!token) {\r\n                    dispatch({ type: AUTHENTICATED_FAIL });\r\n                    return;\r\n                }\r\n\r\n                const config = {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Accept': 'application/json',\r\n                    }\r\n                };\r\n\r\n                const body = JSON.stringify({ token });\r\n                const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/jwt/verify/`, body, config);\r\n\r\n                if (res.data.code !== 'token_not_valid') {\r\n                    dispatch({ type: AUTHENTICATED_SUCCESS });\r\n                    // Aqui você pode fazer outra solicitação para obter os posts\r\n                } else {\r\n                    dispatch({ type: AUTHENTICATED_FAIL });\r\n                }\r\n            } catch (error) {\r\n                console.error('Erro ao verificar autenticação:', error);\r\n                dispatch({ type: AUTHENTICATED_FAIL });\r\n            }\r\n        };\r\n\r\n        fetchPosts();\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Box>\r\n            <Navbar/>\r\n            <Stack direction='row' spacing={2}>\r\n                <Sidebar/>\r\n                <Feed posts={posts}/>\r\n                <Rightbar/>\r\n            </Stack>\r\n            <Add/>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}