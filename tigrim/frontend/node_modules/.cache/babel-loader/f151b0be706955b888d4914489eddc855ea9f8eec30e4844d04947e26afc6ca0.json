{"ast":null,"code":"import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import Link from'@mui/material/Link';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import React from'react';import{connect}from'react-redux';import{Redirect}from'react-router-dom';import{login}from'../actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(props){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",align:\"center\",...props,children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"\",children:\"Tigrim\"}),' ',new Date().getFullYear(),'.']});}const Login=_ref=>{let{login,isAuthenticated}=_ref;const[formData,setFormData]=React.useState({email:'',password:''});const{email,password}=formData;const onChange=e=>setFormData({...formData,[e.target.name]:e.target.value});const onSubmit=e=>async e=>{e.preventDefault();// Limpar mensagem de erro\nsetError('');// Chamar a função de login e verificar se houve erro\nconst error=await login(email,password);// Se houver erro, exibir mensagem\nif(error){setError(error);}};if(isAuthenticated){return/*#__PURE__*/_jsx(Redirect,{to:\"/Dashboard\"});}return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'},children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Login\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:e=>onSubmit(e),sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{className:\"form-control\",type:\"email\",placeholder:\"Email\",margin:\"normal\",name:\"email\",value:email,onChange:e=>onChange(e),required:true,fullWidth:true,id:\"email\",label:\"Email\",autoComplete:\"email\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{className:\"form-control\",type:\"password\",placeholder:\"Senha\",name:\"password\",value:password,onChange:e=>onChange(e),minLength:\"8\",required:true,margin:\"normal\",fullWidth:true,label:\"Senha\",id:\"senha\",autoComplete:\"current-password\"}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary\",type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Login\"}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Link,{href:\"/reset-password\",variant:\"body2\",children:\"Esqueceu a Senha?\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/signup\",variant:\"body2\",children:\"Não tem uma conta? Cadastre-se\"})})]})]})]}),/*#__PURE__*/_jsx(Copyright,{sx:{mt:8,mb:4}})]});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated});export default connect(mapStateToProps,{login})(Login);","map":{"version":3,"names":["Avatar","Button","CssBaseline","TextField","Link","Grid","Box","LockOutlinedIcon","Typography","Container","React","connect","Redirect","login","jsx","_jsx","jsxs","_jsxs","Copyright","props","variant","color","align","children","href","Date","getFullYear","Login","_ref","isAuthenticated","formData","setFormData","useState","email","password","onChange","e","target","name","value","onSubmit","preventDefault","setError","error","to","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","m","bgcolor","mt","className","type","placeholder","margin","required","fullWidth","id","label","autoComplete","autoFocus","minLength","mb","container","item","xs","mapStateToProps","state","auth"],"sources":["C:/Users/joaob/OneDrive/Documents/Projects/tigrim/frontend/src/containers/Login.jsx"],"sourcesContent":["import Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { login } from '../actions/auth';\r\n\r\nfunction Copyright(props) {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"\">\r\n          Tigrim\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n}\r\n\r\nconst Login = ({ login, isAuthenticated }) => {\r\n    const [formData, setFormData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const { email, password } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => async e =>{\r\n        e.preventDefault();\r\n        // Limpar mensagem de erro\r\n        setError('');\r\n\r\n        // Chamar a função de login e verificar se houve erro\r\n        const error = await login(email, password);\r\n\r\n        // Se houver erro, exibir mensagem\r\n        if (error) {\r\n          setError(error);\r\n        }\r\n    };\r\n\r\n    if(isAuthenticated) {\r\n      return <Redirect to='/Dashboard' />\r\n    }\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={e => onSubmit(e)} sx={{ mt: 1 }}>\r\n            <TextField\r\n                className='form-control'\r\n                type='email'\r\n                placeholder='Email'\r\n                margin=\"normal\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={e => onChange(e)}\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n            />\r\n            <TextField\r\n                className='form-control'\r\n                type=\"password\"\r\n                placeholder='Senha'\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={e => onChange(e)}\r\n                minLength='8'\r\n                required\r\n                margin=\"normal\"\r\n                fullWidth\r\n                label=\"Senha\"\r\n                id=\"senha\"\r\n                autoComplete=\"current-password\"\r\n            />\r\n            {error && (\r\n                        <Typography variant=\"body2\" color=\"error\">\r\n                            {error}\r\n                        </Typography>\r\n            )}\r\n            <Button\r\n                className='btn btn-primary'\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"/reset-password\" variant=\"body2\">\r\n                  Esqueceu a Senha?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"/signup\" variant=\"body2\">\r\n                  {\"Não tem uma conta? Cadastre-se\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Copyright sx={{ mt: 8, mb: 4 }} />\r\n      </Container>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}